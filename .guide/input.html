<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html;charset=windows-1252">
    <link type="text/css" rel="stylesheet" href="css/project.css">
    <link rel="stylesheet" href="css/navi.css">
    <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
    <title>Artifact Evaluation Guide</title>
  </head>
  <body>
    <div class="content">
      <h2 align="center">Artifact:</h2>
      <h3 align="center">CUBA: Interprocedural Context-Unbounded Analysis of Concurrent Programs</h3>
      <!--Navigation bar-->
      <div id="cssmenu">
	<ul>
	  <li><a href='../index.html'>Checklist</a></li>
	  <li><a href='tool.html'>Tool</a></li>
	  <!--li><a href='doc.html'>Documentation</a></li-->
	  <li class='active'><a href='input.html'>Input Syntax</a></li>
	  <li><a href='tutorial.html'>Tutorial</a></li>
	  <li><a href='experiments.html'>Benchmarks</a></li>
	</ul>
      </div>
      <!--end of Navigation bar-->

      <!-- customize your content begin here -->
      <div id="input">
	<h3>Input Programs</h3>
    <p>The direct input to CUBA are concurrent pushdown systems (CPDS), a model
      described in Section 2 of our <!--a href="./paper.pdf">paper</a-->paper. (CPDS are
      translated from concurrent (recursive) Boolean
      programs. Boolean programs are in turn
      obtained from concurrent C/C++ or Java programs by predicate
      abstraction. We do not include resources for these translation steps in this artifact.)
    </p>
    
   <!-- Example -->
    <h4>1. Syntax of Boolean Programs</h4>
    <img src="syntax.jpg" alt="Syntax" height="300" width="300" class="centerImage">
    
    <h4>2. Syntax of Concurrent Pushdown Systems (CPDS)</h4>
	<p>The syntax of CPDS is briefly summarized as follows (refer to Section 2 of the
	  <!--a href="./paper.pdf">paper</a-->
	  paper for more details):</p>
    <ul>
      <li><b># of shared states:</b> the number given in the first (non-commented) line. Calling that number <code>s</code>, the set of shared states is <code>{0,...,s-1}</code>.</li><br>

      <li><b>thread programs</b>: the program of a new thread is introduced by the terminal symbol <code>PDA</code>.</li><br>

      <li><b>set of local states</b>: defined by two numbers <code>l1,l2</code> after the symbol <code>PDA</code>. The local states for the thread currently being defined are then <code>{l1,...,l2}</code>.</li><br>

      <li><b>actions</b>: there are three types, classified by what they do to the stack of the thread, although each action also allows the modification of the shared state:
        <!--. The pair <code>(s1, l1)</code> is the thread state before executing the action.-->
	<ul>
	  <li><code>s1 l1 -> s2 l2     </code>: <b>overwrite</b> the local state</li>
	  <li><code>s1 l1 -> s2 l2 l3</code>: <b>push</b> a new stack frame (also modifies of the current local state)</li>
	  <li><code>s1 l1 -> s2 -    </code>: <b>pop</b> a stack frame <!-- , where notation "-" indicates an epsilon stack symbol --></li><br>
	</ul>
      </li>
      </ul>
   <!-- Example -->
    <h4>3. Example</h4>
    <p>
      The following shows a Boolean program (left) and its translated pushdown system (right). (Recall that the input to CUBA is the pushdown system;
      we show the Boolean program for illustration purposes only.)
    </p>
    <div class="row">
      <div class="column">
	<pre>
// shared variable
 decl x;

// Thread 1 will run foo
 void foo() {
    if (*)
      call foo();
    while (x) {
    }
    x := true;
 }

// Thread 2 will run bar
 void bar() {
    if (*)
      call bar();
    while (!x) {
    }
    x := false;
 }

// program entry point
 void main() {
    create_thread(&foo);
    create_thread(&bar);
 }


	</pre>
      </div>
      <div class="column">
	<pre>
2 # shared state 0..1
# Thread 1
PDA 2 5 # a PDA converted from foo
0 2 -> 0 3 # an overwrite action
1 2 -> 1 3
0 2 -> 0 4
1 2 -> 1 4
0 3 -> 0 2 4 # a push action
1 3 -> 1 2 4
0 4 -> 0 5
1 4 -> 1 4
0 5 -> 1 6
1 5 -> 1 6
0 6 -> 1 - # a pop action, "-" = empty
1 6 -> 1 -
# Thread 2
PDA 6 9 #  a PDA converted from bar
0 6 -> 0 7
1 6 -> 1 7
0 6 -> 0 8
1 6 -> 1 8
0 7 -> 0 6 8
1 7 -> 1 6 8
0 8 -> 0 8
1 8 -> 1 9
0 9 -> 0 10
1 9 -> 0 10
0 10 -> 0 -
1 10 -> 0 -</pre>
      </div>
    </div>
      </div>
  </body>
</html>
